<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Customer_Service_Order_Notification</fullName>
        <ccEmails>scpm@corning.com</ccEmails>
        <description>Customer Service Order Notification</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <recipients>
            <recipient>GGCustomerServiceManager</recipient>
            <type>role</type>
        </recipients>
        <recipients>
            <recipient>GGCustomerServiceRep</recipient>
            <type>role</type>
        </recipients>
        <recipients>
            <recipient>adam.nicholson@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>chenh12@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>chungj@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>huangcl6@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>linct4@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>tsaiyc6@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>wuh14@corning.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>GGEmailTemplates/Customer_Service_Order_Notification</template>
    </alerts>
    <alerts>
        <fullName>Customer_Service_Order_Notification_Blue</fullName>
        <description>Customer Service Order Notification - Blue</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <recipients>
            <recipient>adam.nicholson@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>chenh12@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>zhouz@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>zouy2@corning.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>GGEmailTemplates/Customer_Service_Order_Notification</template>
    </alerts>
    <alerts>
        <fullName>PLM_Review_Email_Raw</fullName>
        <description>PLM Review Email - Raw</description>
        <protected>false</protected>
        <recipients>
            <recipient>chenh12@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>pakyalar@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>parkeraj@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>underhiljd@corning.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>yuk@corning.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>GGEmailTemplates/PLM_Price_Review_Notification_Quote</template>
    </alerts>
    <fieldUpdates>
        <fullName>Add_Quote_Number_to_Name</fullName>
        <description>Adds quote number to name</description>
        <field>Name</field>
        <formula>QuoteNumber &amp; &quot;-&quot; &amp; IF(Version__c &lt; 10, &quot;0&quot;&amp;TEXT(Version__c), TEXT(Version__c))</formula>
        <name>Add Quote Number to Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Opportunity_AM_Email_On_Quote</fullName>
        <field>opportunityAMEmail__c</field>
        <formula>Opportunity.Owner.Email</formula>
        <name>Update Opportunity AM Email On Quote</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_PLM_pricing_decision_date</fullName>
        <field>plmPricingDecisionDate__c</field>
        <formula>TODAY()</formula>
        <name>Update PLM pricing decision date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Customer Service Order Notification</fullName>
        <actions>
            <name>Customer_Service_Order_Notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Quote.Status</field>
            <operation>equals</operation>
            <value>Customer Accepted</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.RecordTypeId</field>
            <operation>equals</operation>
            <value>GG Concore,GG Parts,GG Raw Glass</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.quoteOpportunityAccountName__c</field>
            <operation>notEqual</operation>
            <value>Blue</value>
        </criteriaItems>
        <description>Send an email to Customer Service (managers and reps) when a Quote reaches the &apos;Customer Accepted&apos; stage.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Customer Service Order Notification - Blue</fullName>
        <actions>
            <name>Customer_Service_Order_Notification_Blue</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Quote.Status</field>
            <operation>equals</operation>
            <value>Customer Accepted</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.RecordTypeId</field>
            <operation>equals</operation>
            <value>GG Concore,GG Parts,GG Raw Glass</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.quoteOpportunityAccountName__c</field>
            <operation>equals</operation>
            <value>Blue</value>
        </criteriaItems>
        <description>Send an email to Customer Service (managers and reps) when a Quote reaches the &apos;Customer Accepted&apos; stage.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>PLM Review Notification - Raw</fullName>
        <actions>
            <name>PLM_Review_Email_Raw</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Quote.Status</field>
            <operation>equals</operation>
            <value>PLM Review</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.RecordTypeId</field>
            <operation>equals</operation>
            <value>GG Raw Glass</value>
        </criteriaItems>
        <description>Send an email to PLM when a Quote reaches the &apos;PLM Review&apos; stage.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Populate Opportunity AM On Quote</fullName>
        <actions>
            <name>Update_Opportunity_AM_Email_On_Quote</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Quote.RecordTypeId</field>
            <operation>contains</operation>
            <value>GG Parts,GG Raw Glass,GG Concore,GG Sample</value>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Record PLM pricing decision date</fullName>
        <actions>
            <name>Update_PLM_pricing_decision_date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <booleanFilter>1 OR 2</booleanFilter>
        <criteriaItems>
            <field>Quote.Status</field>
            <operation>equals</operation>
            <value>PLM Approved</value>
        </criteriaItems>
        <criteriaItems>
            <field>Quote.Status</field>
            <operation>equals</operation>
            <value>PLM Not Approved</value>
        </criteriaItems>
        <description>When PLM makes a decision on quote pricing, record the date.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update name with number</fullName>
        <actions>
            <name>Add_Quote_Number_to_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Add quote number to the name field</description>
        <formula>true</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
